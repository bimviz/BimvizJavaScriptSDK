<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, maximum-scale=1, initial-scale=1, user-scalable=no" />
    <link href="../../sdk/third/css/bootstrap.min.css" rel="stylesheet" type="text/css" />

    <!-- THEME CSS -->
    <link href="../../sdk/third/css/essentials.css" rel="stylesheet" />
    <link href="../../sdk/third/css/layout-dark.css" rel="stylesheet" />
    <link href="../../sdk/third/jstree/themes/proton/style.min.css" rel="stylesheet" />
    <link href="../../sdk/viz/ui/default.css" rel="stylesheet" type="text/css" />
    <link href="../../sdk/third/css/jquery-ui-1.10.4.custom.css" rel="stylesheet" />
    <link href="../../sdk/third/toolbar/jquery.toolbar.css" rel="stylesheet" />

    <script src="../../sdk/third/jquery-1.10.2.min.js"></script>
    <script src="../../sdk/third/jquery-ui.min.js"></script>
    <script src="../../sdk/third/jquery-dialog.js"></script>
    <script src="../../sdk/third/bootstrap.min.js"></script>
    <script src="../../sdk/third/jstree/jstree.js"></script>
    <script src="../../sdk/third/jquery-slider/jquery-ui-slider-pips.min.js"></script>
    <script src="../../sdk/third/toolbar/jquery.toolbar.js"></script>
    
    <script src="../../sdk/viz/bimviz.js"></script>
    <script src="../../sdk/viz/restapi/projectmanager.js"></script>
    
</head>
<body style="background-color: black; margin: 50px;">
<h1>To view project BIM tree, please click the link:</h1>
    <div style="font-size: 20px;color: white">
        <ol id="projectlist">

        </ol>
    </div>
    <script>

        // note start
        //     请先填写参数，再浏览该案例文件，参数如下：
        //         ip：bimviz服务器地址，若使用的是公有云，ip为cloud.bimviz.io，使用的是私有云，ip为私有云服务器地址
        //         port：公有云端口是10001，私有云默认端口7005
        //         key：用户的key值
        // note end

    $(document).ready(function(){

        var projectManager = new BIMVIZ.ProjectManager({
            ip: "",
            port: , 
            key: '',
            debug:true
        });

        projectManager.getAllProjects(function(result){
            if(result){
                var container = $('#projectlist');
                container.html('');
                result.forEach(function(item, index){
                    var row = '<li><a target="_blank" href="viewtree.html?pid='+item.Guid+'">'+item.Name+'</a></li>'
                    container.append(row);
                });

            }
        });
    });

    </script>
</body>
</html>
